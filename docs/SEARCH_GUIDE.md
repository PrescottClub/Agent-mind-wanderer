# 🔍 本地心理健康资源搜索指南

## 功能简介

心绪精灵新增了**本地心理健康资源搜索**功能，当你需要寻找附近的心理咨询师、心理医生或心理健康机构时，小念可以实时为你搜索相关信息。

## 🚀 快速开始

### 1. 配置SerpApi密钥

获取免费SerpApi密钥：
1. 访问 [serpapi.com](https://serpapi.com/)
2. 注册账户
3. 获取API密钥
4. 在 `.env` 文件中添加：
   ```
   SERPAPI_API_KEY=your_serpapi_key_here
   ```

### 2. 重启应用
```bash
streamlit run main.py
```

## 💬 使用方法

### 触发搜索的关键词

以下任意关键词都会触发搜索功能：

**寻找专业人士：**
- "找心理咨询师"
- "找心理医生" 
- "咨询师推荐"
- "推荐医生"

**寻找机构：**
- "心理诊所"
- "心理健康中心"
- "心理科"
- "精神科"

**地理位置：**
- "附近的"
- "当地的"
- "本地"
- "北京/上海/广州..."（具体城市名）

**具体需求：**
- "抑郁症医院"
- "焦虑症治疗"
- "心理治疗"
- "心理咨询"

### 使用示例

**示例1：寻找本地咨询师**
```
用户：我想找附近的心理咨询师，有什么推荐吗？

🔍 小念正在搜索本地心理健康资源...
✅ 已找到当地的心理健康资源

🧠 小念分析：用户需要寻找心理咨询师，我要基于搜索结果提供专业建议
⚙️ 

💖 小念看到你想寻求专业帮助，这是非常积极的一步呢！✨
基于搜索结果，我为你整理了一些当地的心理健康资源：

**推荐机构：**
• XXX心理咨询中心 - 地址：xxx，电话：xxx
• XXX医院心理科 - 专业精神科医生，地址：xxx

**选择建议：**
🌟 建议优先选择有国家认证资质的心理咨询师
🌟 可以先电话咨询了解收费标准和治疗方式
🌟 第一次咨询时要观察是否感觉舒适和信任

记住，寻求专业帮助是勇敢的表现，小念为你感到骄傲！💪
```

**示例2：特定城市搜索**
```
用户：上海有好的抑郁症治疗医院吗？

🔍 小念正在搜索本地心理健康资源...
✅ 已找到上海的心理健康资源

💖 小念为你搜索了上海的抑郁症专业治疗机构...
```

## 🔧 技术原理

### 搜索流程
1. **意图检测** - 识别用户是否需要搜索资源
2. **位置提取** - 从用户输入中提取地理位置
3. **查询生成** - 构建专业的搜索查询
4. **实时搜索** - 调用SerpApi获取最新结果
5. **结果过滤** - 筛选心理健康相关信息
6. **AI整理** - 小念以温暖专业的方式呈现结果

### 安全保障
- **专业边界** - 明确声明仅供参考，不做医学诊断
- **验证提醒** - 建议用户亲自验证专业资质
- **隐私保护** - 搜索记录不会永久保存

## 💰 费用说明

### SerpApi定价
- **免费额度** - 100次搜索/月
- **基础套餐** - $50/月，5000次搜索
- **企业套餐** - $125/月，15000次搜索

### 使用建议
- 搜索功能仅在真正需要时触发
- 每次搜索会消耗1次免费额度
- 建议合理使用，避免无意义搜索

## ⚠️ 重要声明

### 专业免责
- 搜索结果仅供参考，不构成医疗建议
- 请务必验证医疗机构的资质和口碑
- 如有紧急情况，请直接拨打急救电话

### 数据来源
- 搜索结果来源于公开网络信息
- 信息准确性以实际机构为准
- 建议多方比较后做出选择

## 🎯 最佳实践

### 高效搜索技巧
1. **明确位置** - 说明具体城市或地区
2. **具体需求** - 明确是找医生、咨询师还是机构
3. **特殊要求** - 如需要特定疗法请说明

### 选择专业机构
1. **查看资质** - 确认国家认证和执业证书
2. **了解背景** - 咨询师的专业背景和经验
3. **试探交流** - 初次咨询感受舒适度
4. **比较选择** - 多家对比后再决定

## 🆘 故障排除

### 常见问题

**Q: 搜索功能不工作？**
A: 检查 `.env` 文件中的 `SERPAPI_API_KEY` 是否正确配置

**Q: 显示"搜索失败"？**
A: 可能是API密钥无效或网络问题，检查密钥是否正确

**Q: 搜索结果不准确？**
A: 尝试使用更具体的关键词，如城市名 + 心理咨询

**Q: 免费额度用完了？**
A: 功能会自动禁用，小念仍能提供情感支持，只是无法实时搜索

### 技术支持
如遇到技术问题，请在项目Issues中反馈，我们会及时处理。

---

**愿小念的搜索功能帮你找到温暖的专业支持！** 💖✨ 